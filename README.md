# ToDo: Приложение для управления задачами

Это простое iOS-приложение для создания, управления и отслеживания задач. Оно поддерживает добавление задач с дедлайнами, отметку важности (звездочки), сортировку и отдельный раздел для просроченных задач. Аутентификация через Face ID или пароль обеспечивает безопасность данных.

## Описание проекта

ToDo — это мобильное приложение на SwiftUI для организации повседневных задач. Данные хранятся локально в UserDefaults, что делает приложение легковесным и не требующим внешней БД. Основные особенности: аутентификация, добавление задач с опциональными дедлайнами, сортировка по критериям и управление просроченными задачами.

### Основные сущности (из `Item.swift`):
- **Item**: Задача (ID, текст задачи, флаг важности (starState), дедлайн (строка), флаг просроченности (deadlineStatus), дата создания).

### Функции приложения:
- **Аутентификация** (`mainView.swift`): Вход через Face ID (LocalAuthentication) или пароль ("1008"). После успешной аутентификации открывается таббар с экранами.
- **Добавление и управление задачами** (`ContentView.swift`): 
  - Ввод новой задачи, опциональный дедлайн (DatePicker с минимальной датой "сегодня").
  - Отметка важности (звездочка).
  - Сортировка: по дате создания (recent), важности (importance), ближайшему дедлайну (nearest deadline).
  - Редактирование задач (текст и дедлайн).
  - Автоматическое обновление статуса просроченности.
- **Просроченные задачи** (`Deleter.swift` или `ExpiredTasksView`): Отдельный экран для задач с истекшим дедлайном. Возможность удаления по одной или всех сразу.
- **Хранение данных**: UserDefaults с кодированием/декодированием массива [Item] (PropertyListEncoder/Decoder).
- **Дополнительно**: Автоматическая проверка дедлайнов на основе текущей даты, форматирование дат (DateFormatter).

Приложение фокусируется на простоте: нет сложных зависимостей, всё локально. Задачи сортируются и обновляются автоматически при изменениях.

### Технологии
- **Фронтенд**: SwiftUI, Swift 5+.
- **Аутентификация**: LocalAuthentication (Face ID).
- **Хранение данных**: UserDefaults.
- **Дополнительно**: DateFormatter для дат, Calendar для сравнения дат, Toggle/DatePicker для UI.

## Установка и запуск

### Требования
- Xcode 15+ (для iOS 17+).
- iOS-устройство или симулятор с поддержкой Face ID (для тестирования аутентификации).

### Шаги по установке
1. **Клонируйте репозиторий**:
   ```
   git clone <your-repo-url>
   cd todo
   ```

2. **Настройка проекта**:
   - Откройте проект в Xcode: `open todo.xcodeproj`.
   - В `Info.plist` уже настроен `NSFaceIDUsageDescription` для разрешения Face ID.
   - Пароль по умолчанию — "1008" (в коде `mainView.swift`), можно изменить для тестов.

3. **Запуск**:
   - Соберите и запустите в Xcode (Cmd + R).
   - При первом запуске пройдите аутентификацию (Face ID или пароль).
   - Тестируйте на симуляторе (Face ID симулируется) или реальном устройстве.

### Возможные проблемы и решения
- **Ошибка Face ID**: Если недоступен, приложение покажет ошибку и предложит пароль. На симуляторе Face ID работает в режиме "Enrolled".
- **Данные не сохраняются**: Проверьте кодирование в UserDefaults — убедитесь, что Item conforms Codable.
- **Дедлайны не обновляются**: Убедитесь, что дата устройства актуальна; приложение использует Calendar.current.
- **Безопасность**: Пароль хардкоден — в продакшене замените на динамический (например, Keychain).

## Использование

1. **Аутентификация**:
   - На главном экране выберите Face ID или пароль.
   - После входа откроется таббар с "Add page" и "Delete".

2. **Добавление задач**:
   - В "Add page" введите текст задачи.
   - Включите дедлайн (Toggle), выберите дату.
   - Нажмите "+" для добавления.
   - Отметьте звездочкой для важности.

3. **Сортировка и редактирование**:
   - Выберите режим сортировки (Picker: Recent, Important, Nearest deadline).
   - Тап по задаче — редактирование текста/дедлайна.
   - Свайп для удаления.

4. **Просроченные задачи**:
   - В "Delete" отображаются задачи с истекшим дедлайном.
   - Удалите по одной (свайп) или все сразу (кнопка "Delete all").

Проект идеален для простого трекинга задач с акцентом на важность и сроки. Данные сохраняются между запусками.
